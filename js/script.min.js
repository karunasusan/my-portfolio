document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("page-wrapper"),t=document.getElementById("checkbox"),l=document.querySelectorAll(".mobile-nav-list .nav-item"),s=document.querySelectorAll(".about-card"),a=document.querySelectorAll("section[id]"),i=document.querySelectorAll(".nav-desktop .nav-item"),r=document.querySelector(".logo-svg"),n=document.getElementById("easter-egg");r&&n&&r.addEventListener("dblclick",()=>{if(window.innerWidth<1024)return;r.classList.add("hidden"),n.classList.add("visible");let e="KARUNA SUSAN BENNY",t=0,l=()=>{t<e.length&&(n.innerHTML=e.substring(0,t+1)+'<span class="cursor"></span>',t++,setTimeout(l,150))};l(),setTimeout(()=>{r.classList.remove("hidden"),n.classList.remove("visible"),n.innerHTML=""},6e4)}),s.forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("active")||(s.forEach(e=>e.classList.remove("active")),e.classList.add("active"))})}),document.addEventListener("click",e=>{e.target.closest(".about-card")||s.forEach(e=>e.classList.remove("active"))}),t&&e&&t.addEventListener("change",()=>{e.classList.toggle("menu-open",t.checked)}),l.forEach(e=>{e.addEventListener("click",()=>{t&&t.checked&&(t.checked=!1,t.dispatchEvent(new Event("change")))})});let d=document.getElementById("themeToggleDesktop"),c=document.getElementById("mobile-theme-toggle"),o=e=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);let t="light"===e;d&&(d.checked=t),c&&(c.checked=t)},g=()=>{let e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";o(e)};d&&d.addEventListener("change",g),c&&c.addEventListener("change",g);let m=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");o(m);let h=document.getElementById("tagline-word");if(h){let E=["web experiences.","creative solutions.","intuitive interfaces.",],v=0,u=0,$=!1;function L(){let e=E[v],t=$?100:200;h.textContent=e.substring(0,u),!$&&u<e.length?u++:$&&u>0?u--:($=!$)||(v=(v+1)%E.length);let l=t;$||u!==e.length?$&&0===u&&(l=1e3):l=2e3,setTimeout(L,l)}L()}let f=document.querySelectorAll(".timeline-item"),b=new IntersectionObserver(e=>{e.forEach((e,t)=>{e.isIntersecting&&(setTimeout(()=>{e.target.classList.add("is-visible")},200*t),b.unobserve(e.target))})},{threshold:.1});f.forEach(e=>{b.observe(e)}),document.querySelectorAll(".project-card").forEach(e=>{let t=e.querySelector(".project-slideshow"),l=t?t.querySelectorAll(".slide"):[],s=e.querySelector(".slide-dots"),a=e.querySelectorAll(".prev-slide"),i=e.querySelectorAll(".next-slide"),r=0,n;function d(e){if(e>=l.length?e=0:e<0&&(e=l.length-1),l.forEach(e=>e.classList.remove("active")),l[e].classList.add("active"),r=e,s){let t=s.querySelectorAll(".slide-dot");t.length>0&&(t.forEach(e=>e.classList.remove("active")),t[e].classList.add("active"))}}function c(){clearInterval(n),n=setInterval(()=>{d(r+1)},5e3)}function o(){clearInterval(n),c()}t&&0!==l.length&&(s&&l.forEach((e,t)=>{let l=document.createElement("button");l.classList.add("slide-dot"),0===t&&l.classList.add("active"),l.setAttribute("aria-label",`Go to slide ${t+1}`),l.addEventListener("click",()=>{d(t),o()}),s.appendChild(l)}),a.forEach(e=>{e.addEventListener("click",()=>{d(r-1),o()})}),i.forEach(e=>{e.addEventListener("click",()=>{d(r+1),o()})}),t.addEventListener("mouseenter",()=>clearInterval(n)),t.addEventListener("mouseleave",c),d(0),c())});let y=()=>{let e=window.pageYOffset,t=!1;a.forEach(s=>{let a=s.offsetHeight,r=s.offsetTop-100,n=s.getAttribute("id");e>=r&&e<r+a&&(t=!0,i.forEach(e=>{e.classList.toggle("active",e.getAttribute("href")==="#"+n)}),l.forEach(e=>{e.classList.toggle("active",e.getAttribute("href")==="#"+n)}))}),e<100&&!t&&(i.forEach(e=>{e.classList.toggle("active","#home"===e.getAttribute("href"))}),l.forEach(e=>{e.classList.toggle("active","#home"===e.getAttribute("href"))}))};window.addEventListener("scroll",y),y();let p=document.forms.contact;if(p){let _=document.getElementById("name"),k=document.getElementById("email"),A=document.getElementById("message"),I=document.getElementById("submit-btn"),B=document.getElementById("name-error"),q=document.getElementById("email-error"),S=document.getElementById("message-error"),T=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,w={name:!1,email:!1,message:!1},x=()=>{I.disabled=!(w.name&&w.email&&w.message)},M=(e,t,l,s=0,a=null,i,r,n)=>{let d=e.value.trim(),c=!0,o="";0===d.length?(c=!1,o=i):s>0&&d.length<s?(c=!1,o=r):a&&!a.test(d)&&(c=!1,o=n),t.textContent=o,t.classList.toggle("visible",!c),e.classList.toggle("error",!c),w[l]=c,x()},N=()=>M(_,B,"name",2,null,"Name is required.","Name must be at least 2 characters.",""),C=()=>M(k,q,"email",0,T,"Email is required.","","Please enter a valid email format."),H=()=>M(A,S,"message",10,null,"Message is required.","Message must be at least 10 characters.","");_.addEventListener("input",N),k.addEventListener("input",C),A.addEventListener("input",H),_.addEventListener("blur",N),k.addEventListener("blur",C),A.addEventListener("blur",H)}let j=document.getElementById("scrollTopBtn"),D=document.getElementById("page-wrapper"),O=document.getElementById("checkbox"),U=()=>{if(!j||!D)return;let e=document.body.scrollTop>400||document.documentElement.scrollTop>400,t=D.classList.contains("menu-open");j.style.display=e&&!t?"flex":"none"};j&&D&&O&&(window.addEventListener("scroll",U),O.addEventListener("change",U),U(),j.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))}),document.body.classList.add("loading");const loader=document.getElementById("loader");window.onload=()=>{loader&&loader.classList.add("hidden"),document.body.classList.remove("loading")};